= Сравнительный анализ инструментов статического анализа
:sectnums:
:source-highlighter: highlight.js

== Введение

Экосистема iOS/Swift предлагает множество инструментов для статического анализа, каждый из которых имеет свою нишу. Их можно условно разделить на несколько категорий:

*   **Линтеры и Форматтеры:** Следят за стилем кода, консистентностью и лучшими практиками.
*   **Поисковики багов (Bug Finders):** Выполняют глубокий анализ для поиска логических ошибок, утечек памяти и других скрытых проблем.
*   **Анализаторы безопасности (SAST):** Специализируются на поиске уязвимостей.
*   **Платформы для анализа:** Веб-сервисы, которые агрегируют метрики качества кода.

Ниже представлен сравнительный анализ популярных инструментов.

---

== Сравнительная таблица

[cols="2,3a,2a,3a,3a,2a"]
|===
| Инструмент | Основная цель | Тип | Плюсы | Минусы / Особенности | Статус

| *SwiftLint*
| Соблюдение стиля кода и лучших практик Swift.
| Линтер
| * Де-факто стандарт в сообществе.
* Огромное количество правил.
* Гибкая настройка через `.swiftlint.yml`.
* Интеграция с Xcode и CI.
| Не ищет сложные логические баги или уязвимости.
| **Активно развивается**

| *SwiftFormat*
| Автоматическое форматирование кода по заданным правилам.
| Форматтер / Линтер
| * Отлично подходит для унификации стиля в команде.
* Может работать в режиме линтера (только сообщать о проблемах).
* Быстрый и простой в настройке.
| Меньше правил, чем у SwiftLint, фокус именно на форматировании.
| **Активно развивается**

| *Clang Static Analyzer*
| Глубокий анализ для поиска багов, утечек памяти, логических ошибок.
| Поисковик багов
| * Встроен в Xcode (`Product > Analyze`).
* Очень мощный для C, C++, Objective-C.
* Показывает полный путь выполнения, приводящий к ошибке.
| * Ограниченная поддержка Swift.
* Почти не настраивается.
| **Активно развивается** (как часть LLVM/Clang)

| *Infer*
| Поиск критических багов (null dereference, утечки ресурсов) в больших кодовых базах.
| Поисковик багов
| * Разработан и используется в Meta (Facebook).
* Отлично работает для Java, C, C++, Objective-C.
* Масштабируемый и быстрый.
| * Поддержка Swift экспериментальная и неполная.
* Более сложен в настройке, чем встроенные инструменты.
| **Активно развивается**

| *Checkmarx*
| Поиск уязвимостей безопасности (SQL-инъекции, XSS, проблемы с криптографией и т.д.).
| SAST (Анализ безопасности)
| * Один из лидеров рынка SAST.
* Глубочайший анализ безопасности.
* Поддерживает десятки языков, включая Swift.
* Подробные отчеты и рекомендации по исправлению.
| * Коммерческий, очень дорогой.
* Требует экспертизы для настройки и анализа результатов.
| **Активно развивается** (коммерческий продукт)

| *Codebeat*
| Автоматизированное ревью кода как сервис. Оценивает сложность, дублирование, стиль.
| Платформа для анализа
| * Простой в интеграции с GitHub/Bitbucket.
* Дает общую оценку качества проекта.
* Не требует локальной установки.
| * Не является глубоким анализатором багов или уязвимостей.
* Предоставляет высокоуровневые метрики.
| **Активно развивается** (веб-сервис)

| *Faux Pas*
| Поиск скрытых багов, нарушений лучших практик и проблем со стилем.
| Поисковик багов / Линтер
| * Находил интересные и нетривиальные проблемы.
* Удобный GUI.
| * Проект заброшен с 2017 года.
* Не поддерживает современные версии Swift и Xcode.
| **Заброшен**

| *Tailor*
| Линтер и анализатор для Swift, похожий на SwiftLint.
| Линтер
| * Был альтернативой SwiftLint.
| * Проект заброшен.
* Не поддерживает современные версии Swift.
| **Заброшен**

| *Swimat*
| Форматирование Swift-кода.
| Форматтер
| * Простая Xcode-интеграция для форматирования "на лету".
| * Менее мощный и популярный, чем SwiftFormat.
* Развивается медленно.
| **Полу-активен**
|===

== Рекомендации

Для современного iOS-проекта рекомендуется использовать комбинацию из нескольких инструментов:

1.  **Обязательный минимум:**
    *   **SwiftLint:** Для поддержания чистоты и единого стиля кода.
    *   **Clang Static Analyzer:** Для регулярного поиска утечек и багов в Objective-C коде и базовых проверок в Swift (через `Product > Analyze` в Xcode).

2.  **Для автоматизации стиля:**
    *   **SwiftFormat:** Чтобы автоматически форматировать код перед коммитом, снимая эту задачу с разработчиков.

3.  **Для повышенной безопасности (если требуется):**
    *   **Checkmarx** (или аналоги): Если проект работает с чувствительными данными и требует серьезного аудита безопасности. Это уже уровень Enterprise.

Инструменты вроде **Faux Pas** и **Tailor** сегодня использовать не стоит, так как они устарели и не поддерживают актуальные версии языка и среды разработки.