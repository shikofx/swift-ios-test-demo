= Unit-тесты для MyCartViewController

Этот документ описывает unit-тесты для экрана "Моя корзина" (`MyCartViewController`).
Цель этих тестов — проверить корректность бизнес-логики, связанной с управлением товарами в корзине.

== 1. Расчет общей стоимости (`calculateTotalPrice`)

=== UC-MCV-001: Расчет стоимости для пустой корзины

*Название:* Расчет общей стоимости для пустой корзины должен возвращать ноль.

*Предусловие:*
. Корзина пользователя пуста (`Engine.sharedInstance.cartList` является пустым массивом).

*Шаги:*
. Вызвать метод `calculateTotalPrice()`.

*Ожидаемый результат:*
. Значение `Engine.sharedInstance.totalPrice` равно `0.0`.
. Текст в `totalPriceLbl` отформатирован как "$0.00".

=== UC-MCV-002: Расчет стоимости для одного товара

*Название:* Расчет общей стоимости для одного товара с количеством > 1.

*Предусловие:*
. В корзину добавлен один товар с ценой `P` и количеством `Q`.

*Шаги:*
. Вызвать метод `calculateTotalPrice()`.

*Ожидаемый результат:*
. Значение `Engine.sharedInstance.totalPrice` равно `P * Q`.

=== UC-MCV-003: Расчет стоимости для нескольких товаров

*Название:* Расчет общей стоимости для нескольких разных товаров.

*Предусловие:*
. В корзину добавлено несколько товаров:
.. Товар 1: цена `P1`, количество `Q1`.
.. Товар 2: цена `P2`, количество `Q2`.

*Шаги:*
. Вызвать метод `calculateTotalPrice()`.

*Ожидаемый результат:*
. Значение `Engine.sharedInstance.totalPrice` равно `(P1 * Q1) + (P2 * Q2)`.

== 2. Управление товарами в корзине

=== UC-MCV-004: Увеличение количества товара

*Название:* Нажатие на кнопку "+" увеличивает количество товара и обновляет счетчики.

*Предусловие:*
. В корзине есть товар с количеством `Q`.
. Общий счетчик товаров `cartCount` равен `C`.

*Шаги:*
. Вызвать метод `addButton()` для данного товара.

*Ожидаемый результат:*
. Количество товара становится `Q + 1`.
. Общий счетчик `cartCount` становится `C + 1`.

=== UC-MCV-005: Удаление товара при уменьшении до нуля

*Название:* Нажатие на кнопку "-" уменьшает количество товара, если оно больше 1.

*Предусловие:*
. В корзине есть товар с количеством `Q > 1`.
. Общий счетчик товаров `cartCount` равен `C`.

*Шаги:*
. Вызвать метод `subtractButton()` для данного товара.

*Ожидаемый результат:*
. Количество товара становится `Q - 1`.
. Общий счетчик `cartCount` становится `C - 1`.
. Товар *не удаляется* из корзины.

=== UC-MCV-006: Удаление товара при уменьшении до нуля

*Название:* Уменьшение количества товара до 0 удаляет его из корзины.

*Предусловие:*
. В корзине есть товар с количеством `1`.
. Общий счетчик `cartCount` равен `C`.

*Шаги:*
. Вызвать метод `subtractButton()` для данного товара.

*Ожидаемый результат:*
. Товар удаляется из массива `Engine.sharedInstance.cartList`.
. Общий счетчик `cartCount` становится `C - 1`.

=== UC-MCV-007: Прямое удаление товара из корзины

*Название:* Нажатие на кнопку "Удалить" полностью убирает товар из корзины.

*Предусловие:*
. В корзине есть товар с количеством `Q > 1`.

*Шаги:*
. Вызвать метод `deleteProduct()` для данного товара.

*Ожидаемый результат:*
. Товар удаляется из массива `Engine.sharedInstance.cartList`.
. Общий счетчик `cartCount` уменьшается на 1.